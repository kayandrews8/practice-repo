<!DOCTYPE html>
<html>
<head>
  <title>Orders</title>
  <link rel="shortcut icon" href="about:blank">
  <style>
    section {
      background-color: cornsilk;
      border: 2px solid black;
      margin-bottom: 5px;
      padding: 10px;
    }
    dt {
      font-weight: bold;
    }
    dd {
      text-decoration: underline;
    }
  </style>
</head>
<body>
<h1>Current Orders</h1>
<div id="orders">
  <!-- This HTML should be dynamically generated by JS -->
  <section>
    <h3>Order #x</h3>
    <dl>
      <dt>Item Ordered</dt>
      <dd>Such and such item</dd>
      <dt>Ordered by</dt>
      <dd>Ordered by such and such</dd>
    </dl>
  </section>
</div>
<button id="update">Update w/Ajax</button>
<script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
<script>
  $(document).ready(function() {
    "use strict";

    function createHTML(orders) {
      var html = '';
      for (var i = 0; i < orders.length; i += 1) {
        html += '<section>' +
                '        <h3>Order #' + orders[i].orderNumber + '</h3>' +
                '        <dl>' +
                '            <dt>Item Ordered</dt>' +
                '            <dd>' + orders[i].itemOrdered + '</dd>' +
                '            <dt>Ordered by</dt>' +
                '            <dd>' + orders[i].orderedBy + '</dd>' +
                '        </dl>' +
                '    </section>';
      }
      return html;
    }

    function updatePage() {
      // make a request to the json file, order.json
      $.get('data/orders.json').done(function(orders) {
        $('#orders').html(createHTML(orders));
      });
    }

    // when a user clicks on the update button, refresh the page with the latest order information
    $('#update').click(function() {
      updatePage()
      setInterval(updatePage, 5000);
    });

  });
</script>
</body>
</html>